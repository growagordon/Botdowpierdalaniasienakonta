<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>MÃ³j Czatbot z Internetem</title>
  <style>
    body { font-family: sans-serif; padding: 20px; background: #f2f2f2; }
    #chat { background: white; padding: 10px; border: 1px solid #ccc; height: 300px; overflow-y: auto; }
    input { padding: 10px; width: 80%; }
    button { padding: 10px; }
  </style>
</head>
<body>
  <h2>ðŸ¤– MÃ³j Bot z Internetem</h2>
  <div id="chat"></div>
  <input type="text" id="userInput" placeholder="Zadaj pytanie..." />
  <button onclick="send()">WyÅ›lij</button>

  <script>
    const chat = document.getElementById("chat");

    function addMsg(sender, text) {
      const p = document.createElement("p");
      p.innerHTML = `<strong>${sender}:</strong> ${text}`;
      chat.appendChild(p);
      chat.scrollTop = chat.scrollHeight;
    }

    async function send() {
      const input = document.getElementById("userInput");
      const msg = input.value.trim();
      if (!msg) return;

      addMsg("Ty", msg);

      if (msg.toLowerCase().includes("sprawdÅº")) {
        const reply = await searchInternet(msg);
        addMsg("Bot", reply);
      } else {
        addMsg("Bot", "Nie wiem co odpowiedzieÄ‡. Napisz 'sprawdÅº x', by poszukaÄ‡ czegoÅ› w sieci.");
      }

      input.value = "";
    }

    async function searchInternet(query) {
      const q = encodeURIComponent(query.replace("sprawdÅº", "").trim());
      try {
        const response = await fetch(`https://api.duckduckgo.com/?q=${q}&format=json&no_redirect=1&no_html=1`);
        const data = await response.json();
        return data.Abstract || "Nie znaleziono nic ciekawego ðŸ˜•";
      } catch (e) {
        return "BÅ‚Ä…d przy pobieraniu danych.";
      }
    }
  </script>
</body>
</html>